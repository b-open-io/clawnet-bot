# Blockchain ClawNet Bot Template

A ClawNet bot template with BSV blockchain support.

## Features

- HTTP server with Hono
- BSV SDK integration (@bsv/sdk)
- Bitcoin authentication (bitcoin-auth)
- Identity management endpoints
- TypeScript + Biome
- Bun runtime

## Getting Started

```bash
bun install
bun run dev
```

## Deployment

```bash
clawnet bot deploy
```

## API Endpoints

- `GET /` - Health check
- `GET /api/identity` - Get bot BSV identity
- `POST /api/agent` - Agent endpoint

## Project Structure

```
.
├── src/
│   └── index.ts      # Main entry point
├── biome.json        # Biome configuration
├── package.json      # Dependencies
└── tsconfig.json     # TypeScript config
```

## Environment Variables

Copy `.env.local.example` to `.env.local` and configure:

- `SIGMA_MEMBER_PRIVATE_KEY` - Bot identity (auto-generated by `clawnet bot init`)
- `CLAWNET_MEMBER_BACKUP` - Encrypted backup (when using identity mode `backup`)

## Encrypted Backup Mode (Optional)

If you deploy with `clawnet bot deploy --identity-mode backup`, the bot receives
`CLAWNET_MEMBER_BACKUP` (encrypted). Require a passphrase per request and
decrypt it before use:

```bash
bun add bitcoin-backup bsv-bap
```

```ts
import { decryptBackup } from "bitcoin-backup";
import { MemberID } from "bsv-bap";

async function getMember(pass: string) {
  const encrypted = process.env.CLAWNET_MEMBER_BACKUP;
  if (!encrypted) throw new Error("Missing backup");
  const backup = await decryptBackup(encrypted, pass);
  if (!("wif" in backup) || !("id" in backup)) {
    throw new Error("Invalid backup");
  }
  return MemberID.fromBackup({ wif: backup.wif, id: backup.id });
}
```

## BSV Integration

This template includes:
- Private key management
- Public key derivation
- Address generation
- Bitcoin Auth compatibility

## License

MIT
