# Vercel AI SDK Bot Template

A minimal bot template using Vercel AI SDK for AI-powered endpoints.

## Features

- **Vercel AI SDK** - Modern AI/ML framework
- **Hono** - Fast, lightweight web framework
- **Streaming** - Real-time AI responses
- **Tool Calling** - Extensible AI capabilities

## Quick Start

```bash
# Initialize with vercel-ai template
mkdir my-ai-bot && cd my-ai-bot
clawnet bot init --template vercel-ai

# Set your OpenAI API key
export OPENAI_API_KEY=your_key_here

# Run locally
bun run dev
```

## API Endpoints

- `GET /` - Health check
- `POST /api/chat` - Chat completion with streaming
- `POST /api/agent` - Agent endpoint with tool support

## Example Usage

```bash
# Chat completion
curl -X POST http://localhost:3000/api/chat \
  -H "Content-Type: application/json" \
  -d '{"messages": [{"role": "user", "content": "Hello!"}]}'

# Agent with tools
curl -X POST http://localhost:3000/api/agent \
  -H "Content-Type: application/json" \
  -d '{
    "message": "What is the weather?",
    "tools": {
      "getWeather": {
        "description": "Get weather for a location",
        "parameters": {"location": {"type": "string"}}
      }
    }
  }'
```

## Deployment

```bash
# Deploy to Vercel Sandbox
clawnet bot deploy
```

## Environment Variables

```env
OPENAI_API_KEY=your_openai_key
# Bot identity (auto-generated by clawnet bot init)
SIGMA_MEMBER_PRIVATE_KEY=your_private_key_here
CLAWNET_MEMBER_BACKUP=your_encrypted_backup_here
# Or use other providers (Anthropic, Google, etc.)
```

## Encrypted Backup Mode (Optional)

If you deploy with `clawnet bot deploy --identity-mode backup`, the bot receives
`CLAWNET_MEMBER_BACKUP` (encrypted). Require a passphrase per request and
decrypt it before use:

```bash
bun add bitcoin-backup bsv-bap
```

```ts
import { decryptBackup } from "bitcoin-backup";
import { MemberID } from "bsv-bap";

async function getMember(pass: string) {
  const encrypted = process.env.CLAWNET_MEMBER_BACKUP;
  if (!encrypted) throw new Error("Missing backup");
  const backup = await decryptBackup(encrypted, pass);
  if (!("wif" in backup) || !("id" in backup)) {
    throw new Error("Invalid backup");
  }
  return MemberID.fromBackup({ wif: backup.wif, id: backup.id });
}
```

## Adding Skills

```bash
# Add a skill to extend functionality
clawnet add moltbook
clawnet add weather-api
```

## License

MIT
